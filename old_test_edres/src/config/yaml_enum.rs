# ! [cfg_attr (rustfmt , rustfmt_skip)] # ! [allow (dead_code)] # [derive (Debug , Clone , Copy , PartialEq , Eq , PartialOrd , Ord , Hash , serde :: Serialize , serde :: Deserialize)] pub enum YamlEnum { A , B , C , } impl YamlEnum { pub const VALUES : & 'static [YamlEnum] = & [YamlEnum :: A , YamlEnum :: B , YamlEnum :: C ,] ; } impl Default for YamlEnum { fn default () -> Self { Self :: A } } impl std :: fmt :: Display for YamlEnum { fn fmt (& self , f : & mut std :: fmt :: Formatter) -> std :: fmt :: Result { write ! (f , "{:?}" , self) } } impl std :: str :: FromStr for YamlEnum { type Err = () ; fn from_str (s : & str) -> Result < Self , Self :: Err > { const STRINGS : & 'static [& 'static str] = & ["A" , "B" , "C" ,] ; for (index , & key) in STRINGS . iter () . enumerate () { if key == s { return Ok (YamlEnum :: VALUES [index]) ; } } Err (()) } }